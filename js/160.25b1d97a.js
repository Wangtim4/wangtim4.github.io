"use strict";(self["webpackChunk_0418"]=self["webpackChunk_0418"]||[]).push([[160],{4160:function(t,i,c){c.r(i),c.d(i,{default:function(){return b}});var o=c(3396),e=c(7139);const s={class:"container"},r={class:"row justify-content-center mt-5"},d={class:"col-lg-5 col-md-10"},a=["src"],n={class:"col-lg-6 col-md-10 border pt-3 text-primary"},u={class:"fw-bold"},l=(0,o._)("hr",null,null,-1),p={key:0,class:"h5"},h={key:1,class:"h6"},g={key:2,class:"h5"},v=(0,o._)("hr",null,null,-1);function _(t,i,c,_,w,f){const m=(0,o.up)("Loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{active:t.isLoading},null,8,["active"]),(0,o._)("div",s,[(0,o._)("div",r,[(0,o._)("div",d,[(0,o._)("img",{src:w.product.imageUrl,alt:"",class:"img-fluid mb-3",style:{height:"300px",width:"400px","object-fit":"cover"}},null,8,a)]),(0,o._)("div",n,[(0,o._)("h2",u,(0,e.zw)(w.product.title),1),l,(0,o._)("div",null,(0,e.zw)(w.product.content),1),(0,o._)("div",null,(0,e.zw)(w.product.description),1),w.product.price?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",p,(0,e.zw)(w.product.origin_price)+" 元",1)),w.product.price?((0,o.wg)(),(0,o.iD)("del",h,"原價 "+(0,e.zw)(w.product.origin_price)+" 元",1)):(0,o.kq)("",!0),w.product.price?((0,o.wg)(),(0,o.iD)("div",g,"現在只要 "+(0,e.zw)(w.product.price)+" 元",1)):(0,o.kq)("",!0),v,(0,o._)("button",{type:"button",class:"btn btn-outline-danger",onClick:i[0]||(i[0]=t=>f.addToCart(w.product.id))}," 加到購物車 ")])])])],64)}var w=c(5820),f={data(){return{product:{},id:""}},inject:[w.Z],methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/coffee-api/product/${this.id}`;this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t,i=1){const c="https://vue3-course-api.hexschool.io/api/coffee-api/cart",o={product_id:t,qty:i};this.isLoading=!0,this.$http.post(c,{data:o}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),w.Z.emit("sendCart",this.cart)}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},m=c(89);const k=(0,m.Z)(f,[["render",_]]);var b=k}}]);
//# sourceMappingURL=160.25b1d97a.js.map