{"version":3,"file":"js/842.eb628e98.js","mappings":"iMACSA,MAAM,a,qVASFA,MAAM,sC,GAEFA,MAAM,+B,GACAA,MAAM,2B,GACTC,EAAAA,EAAAA,GAOQ,SAPDD,MAAM,qCAAsC,EAC/CC,EAAAA,EAAAA,GAIK,YAHDA,EAAAA,EAAAA,GAEK,MAFDC,QAAQ,KAAG,EACXD,EAAAA,EAAAA,GAAa,UAAT,cAAI,G,GAMhBA,EAAAA,EAAAA,GAKK,YAJDA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,QAAE,G,GAWPD,MAAM,qC,GACLA,MAAM,Q,GACFE,QAAQ,K,GAOvBF,MAAM,wE,GACPC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,eAAa,EACpBC,EAAAA,EAAAA,GAA6B,MAAzBD,MAAM,WAAU,UAAI,G,GAE5BC,EAAAA,EAAAA,GAAI,mB,GAEKD,MAAM,Q,GACPC,EAAAA,EAAAA,GAAmD,SAA5CE,IAAI,QAAQH,MAAM,cAAa,SAAK,G,GAO1CA,MAAM,Q,GACPC,EAAAA,EAAAA,GAA+C,SAAxCE,IAAI,OAAOH,MAAM,cAAa,MAAE,G,GAMtCA,MAAM,Q,GACPC,EAAAA,EAAAA,GAA8C,SAAvCE,IAAI,MAAMH,MAAM,cAAa,MAAE,G,GAMrCA,MAAM,Q,GACPC,EAAAA,EAAAA,GAAkD,SAA3CE,IAAI,UAAUH,MAAM,cAAa,MAAE,G,GAOzCA,MAAM,Q,GACPC,EAAAA,EAAAA,GAAkD,SAA3CE,IAAI,UAAUH,MAAM,cAAa,MAAE,G,GAIzCA,MAAM,uC,GAEHC,EAAAA,EAAAA,GACsD,UAD9CD,MAAM,oCAAmC,EAACC,EAAAA,EAAAA,GACR,KAAlCD,MAAM,2BAAuB,QAAK,SAAG,G,GAEjDC,EAAAA,EAAAA,GAAkG,UAA1FD,MAAM,iCAAgC,UAAC,SAAIC,EAAAA,EAAAA,GAAsC,KAAnCD,MAAM,6BAAwB,G,4IA5FxGI,EAAAA,EAAAA,IAkGM,MAlGNC,EAkGM,CAjGFC,GAQAL,EAAAA,EAAAA,GAwFM,MAxFNM,EAwFM,EAtFFN,EAAAA,EAAAA,GAiCM,MAjCNO,EAiCM,EAhCFP,EAAAA,EAAAA,GA8BQ,QA9BRQ,EA8BQ,CA7BJC,GAQAT,EAAAA,EAAAA,GAeQ,cAdJU,EAMgBC,EAAAC,KAAKC,QAAK,aACtBV,EAAAA,EAAAA,IAKKW,EAAAA,GAAA,CAAAC,IAAA,IAAAC,EAAAA,EAAAA,IALcL,EAAAC,KAAKC,OAAbI,K,WAAXd,EAAAA,EAAAA,IAKK,MAL2BY,IAAKE,EAAKC,I,EACtClB,EAAAA,EAAAA,GAAiC,WAAAmB,EAAAA,EAAAA,IAA1BF,EAAKG,QAAQC,OAAK,IACzBrB,EAAAA,EAAAA,GAAiC,WAAAmB,EAAAA,EAAAA,IAA1BF,EAAKG,QAAQE,OAAK,IACzBtB,EAAAA,EAAAA,GAAiD,WAAAmB,EAAAA,EAAAA,IAA1CF,EAAKM,KAAM,OAAGJ,EAAAA,EAAAA,IAAGF,EAAKG,QAAQI,MAAI,IACzCxB,EAAAA,EAAAA,GAAgD,UAA5C,QAAImB,EAAAA,EAAAA,IAAGF,EAAKG,QAAQE,MAAQL,EAAKM,KAAG,Q,yBAIpDvB,EAAAA,EAAAA,GAIQ,QAJRyB,EAIQ,EAHJzB,EAAAA,EAAAA,GAEK,KAFL0B,EAEK,EADD1B,EAAAA,EAAAA,GAAkD,KAAlD2B,EAAgB,WAAOR,EAAAA,EAAAA,IAAGR,EAAAC,KAAKgB,aAAW,YAO1D5B,EAAAA,EAAAA,GAiDM,MAjDN6B,EAiDM,CAhDFC,EAGAC,GACAC,EAAAA,EAAAA,IA2COC,EAAA,CA3CoBC,SAAQC,EAAAC,aAAW,C,kBAC1C,EADYC,YAAM,EAClBrC,EAAAA,EAAAA,GAMM,MANNsC,EAMM,CALFC,GACAP,EAAAA,EAAAA,IAGQQ,EAAA,CAHDtB,GAAG,QAAQuB,KAAK,QAAQC,KAAK,QAAQ3C,OAAK4C,EAAAA,EAAAA,IAAA,CAAC,eAAc,cACpCN,EAAO,YAAYO,YAAY,YAAYC,MAAM,iB,WAChElC,EAAAmC,KAAKC,KAAKC,M,qCAAVrC,EAAAmC,KAAKC,KAAKC,MAAKC,I,kCAIhCjD,EAAAA,EAAAA,GAKM,MALNkD,EAKM,CAJFC,GACAnB,EAAAA,EAAAA,IAC0EQ,EAAA,CADnEtB,GAAG,OAAOuB,KAAK,KAAKC,KAAK,OAAO3C,OAAK4C,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAAyBN,EAAO,SACvFO,YAAY,QAAQC,MAAM,W,WAAoBlC,EAAAmC,KAAKC,KAAKN,K,qCAAV9B,EAAAmC,KAAKC,KAAKN,KAAIQ,I,gCAChEjB,EAAAA,EAAAA,IAAgEoB,EAAA,CAAlDX,KAAK,KAAK1C,MAAM,wBAGlCC,EAAAA,EAAAA,GAKM,MALNqD,EAKM,CAJFC,GACAtB,EAAAA,EAAAA,IACyEQ,EAAA,CADlEtB,GAAG,MAAMuB,KAAK,KAAKC,KAAK,MAAM3C,OAAK4C,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAAyBN,EAAO,SACrFO,YAAY,QAAQC,MAAM,W,WAAoBlC,EAAAmC,KAAKC,KAAKQ,I,qCAAV5C,EAAAmC,KAAKC,KAAKQ,IAAGN,I,gCAC/DjB,EAAAA,EAAAA,IAAgEoB,EAAA,CAAlDX,KAAK,KAAK1C,MAAM,wBAGlCC,EAAAA,EAAAA,GAMM,MANNwD,EAMM,CALFC,GACAzB,EAAAA,EAAAA,IAEwCQ,EAAA,CAFjCtB,GAAG,UAAUuB,KAAK,KAAKC,KAAK,OAAO3C,OAAK4C,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAClCN,EAAO,SAASO,YAAY,QAAQC,MAAM,W,WACzDlC,EAAAmC,KAAKC,KAAKW,Q,qCAAV/C,EAAAmC,KAAKC,KAAKW,QAAOT,I,gCAC9BjB,EAAAA,EAAAA,IAAgEoB,EAAA,CAAlDX,KAAK,KAAK1C,MAAM,wBAGlCC,EAAAA,EAAAA,GAIM,MAJN2D,EAIM,CAHFC,GAAkD,SAClD5D,EAAAA,EAAAA,GACsC,YAD5ByC,KAAK,GAAGvB,GAAG,UAAUnB,MAAM,eAAe8D,KAAK,KAAKC,KAAK,I,qCACtDnD,EAAAmC,KAAKiB,QAAOd,I,iBAAZtC,EAAAmC,KAAKiB,cAEtB/D,EAAAA,EAAAA,GAMM,MANNgE,EAMM,EALFhC,EAAAA,EAAAA,IAGciC,EAAA,CAHDC,GAAG,SAAO,C,kBACnB,IACsD,CADtDC,K,MAGJC,O,uCASxB,GACIC,OACI,MAAO,CACHC,SAAU,GACVlD,QAAS,CAAC,EACVmD,OAAQ,CACJC,YAAa,IAEjB1B,KAAM,CACFC,KAAM,CACFN,KAAM,GACNO,MAAO,GACPO,IAAK,GACLG,QAAS,IAEbK,QAAS,IAEbnD,KAAM,CAAC,EACP6D,SAAU,GACVC,YAAa,GAErB,EACAC,QAAS,CACLC,UAEI,MAAMC,EAAO,2DACbC,KAAKC,WAAY,EACjBC,QAAQC,IAAIJ,GACZC,KAAKI,MAAMC,IAAIN,GACVO,MAAMC,IACHL,QAAQC,IAAII,EAAIhB,KAAKA,MACrBS,KAAKlE,KAAOyE,EAAIhB,KAAKA,KACrBS,KAAKL,SAAWY,EAAIZ,QAAQ,GAExC,EACArC,cACI,MAAMyC,EAAO,4DACPS,EAAQR,KAAKhC,KACnBgC,KAAKI,MAAMK,KAAKV,EAAK,CAAER,KAAMiB,IACxBF,MAAMC,IACHL,QAAQC,IAAII,GACZP,KAAKU,kBAAkBH,EAAK,QAC5B,MAAMI,EAAUJ,EAAIhB,KAAKoB,QACzBX,KAAKY,QAAQC,KAAM,cAAaF,IAAU,GAEtD,GAEJG,UACId,KAAKF,SACT,G,QChJJ,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://0418/./src/views/Order.vue","webpack://0418/./src/views/Order.vue?7012"],"sourcesContent":["<template>\r\n    <div class=\"container \">\r\n        <div class=\"row text-center my-3\">\r\n            <ul class=\"d-flex justify-content-around gap-3 fs-4 my-3\">\r\n                <li class=\"border p-3 bg-primary text-white border-r-20 \">Step1<br />購物清單</li>\r\n                <li class=\"border p-3 bg-primary border-r-20 text-white\">Step2<br />填寫資料</li>\r\n                <li class=\"border p-3 border-r-20 text-secondary\">Step3<br />結帳流程</li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div class=\"row d-flex justify-content-between\">\r\n\r\n            <div class=\"col-lg-5 col-md-12 p-0 my-3\">\r\n                <table class=\"table shadow order-card\">\r\n                    <thead class=\"bg-primary text-white   text-center \">\r\n                        <tr>\r\n                            <td colspan=\"4\">\r\n                                <h3>訂單資訊</h3>\r\n                            </td>\r\n                        </tr>\r\n\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>品名</th>\r\n                            <th>單價</th>\r\n                            <th>數量</th>\r\n                            <th>小計</th>\r\n                        </tr>\r\n                        <template v-if=\"cart.carts\">\r\n                            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                                <td>{{ item.product.title }}</td>\r\n                                <td>{{ item.product.price }}</td>\r\n                                <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                                <td>NT$ {{ item.product.price * item.qty }}</td>\r\n                            </tr>\r\n                        </template>\r\n                    </tbody>\r\n                    <tfoot class=\"bg-primary text-white  text-center \">\r\n                        <tr class=\"fs-4\">\r\n                            <td colspan=\"4\">總計 NT$ {{ cart.final_total }}</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 col-md-12 border p-3 my-3 bg-primary text-white fs-5 shadow\">\r\n                <div class=\"text-center\">\r\n                    <h3 class=\"fw-bold\">客戶資料</h3>\r\n                </div>\r\n                <hr>\r\n                <Form v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"email\" class=\"form-label\">Email</label>\r\n                        <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                            :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                            v-model=\"form.user.email\">\r\n                        </Field>\r\n                    </div>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"name\" class=\"form-label\">姓名</label>\r\n                        <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                            placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"form.user.name\"></Field>\r\n                        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n                    </div>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"tel\" class=\"form-label\">電話</label>\r\n                        <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                            placeholder=\"請輸入電話\" rules=\"required\" v-model=\"form.user.tel\"></Field>\r\n                        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n                    </div>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"address\" class=\"form-label\">地址</label>\r\n                        <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                            :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\"\r\n                            v-model=\"form.user.address\"></Field>\r\n                        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n                    </div>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"message\" class=\"form-label\">留言</label>\r\n                        <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"20\" rows=\"3\"\r\n                            v-model=\"form.message\"></textarea>\r\n                    </div>\r\n                    <div class=\"d-flex justify-content-between my-3 \">\r\n                        <router-link to=\"/cart\">\r\n                            <button class=\"btn btn-lg btn-outline-secondary \"><i\r\n                                    class=\"bi bi-caret-left-fill\"></i>上一步</button>\r\n                        </router-link>\r\n                        <button class=\"btn btn-lg btn-outline-danger \">送出訂單<i class=\"bi bi-caret-right-fill\"></i></button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            products: [],\r\n            product: {},\r\n            status: {\r\n                loadingItem: '', // 對應品項 id\r\n            },\r\n            form: {\r\n                user: {\r\n                    name: '',\r\n                    email: '',\r\n                    tel: '',\r\n                    address: '',\r\n                },\r\n                message: '',\r\n            },\r\n            cart: {},\r\n            messages: '',\r\n            coupon_code: '',\r\n        };\r\n    },\r\n    methods: {\r\n        getCart() {\r\n            // [API]: /api/:api_path/cart[方法]: get\r\n            const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n            this.isLoading = true;\r\n            console.log(url);\r\n            this.$http.get(url)\r\n                .then((res) => {\r\n                    console.log(res.data.data);\r\n                    this.cart = res.data.data;\r\n                    this.messages = res.messages;\r\n                })\r\n        },\r\n        createOrder() {\r\n            const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n            const order = this.form;\r\n            this.$http.post(url, { data: order })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    this.$httpMessageState(res, \"送出訂單\");\r\n                    const orderId = res.data.orderId;\r\n                    this.$router.push(`./checkout/${orderId}`);\r\n                });\r\n        },\r\n    },\r\n    created() {\r\n        this.getCart()\r\n    },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@media screen and (min-width: 769px) {\r\n    .order-card {\r\n        position: sticky;\r\n        top: 85px;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Order.vue?vue&type=template&id=7cad08d4\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=7cad08d4&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\黃則叡\\\\Desktop\\\\vue cli\\\\coffee2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$data","cart","carts","_Fragment","key","_renderList","item","id","_toDisplayString","product","title","price","qty","unit","_hoisted_8","_hoisted_9","_hoisted_10","final_total","_hoisted_11","_hoisted_12","_hoisted_13","_createVNode","_component_Form","onSubmit","$options","createOrder","errors","_hoisted_14","_hoisted_15","_component_Field","name","type","_normalizeClass","placeholder","rules","form","user","email","$event","_hoisted_16","_hoisted_17","_component_ErrorMessage","_hoisted_18","_hoisted_19","tel","_hoisted_20","_hoisted_21","address","_hoisted_22","_hoisted_23","cols","rows","message","_hoisted_24","_component_router_link","to","_hoisted_25","_hoisted_26","data","products","status","loadingItem","messages","coupon_code","methods","getCart","url","this","isLoading","console","log","$http","get","then","res","order","post","$httpMessageState","orderId","$router","push","created","__exports__","render"],"sourceRoot":""}