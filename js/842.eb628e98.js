"use strict";(self["webpackChunk_0418"]=self["webpackChunk_0418"]||[]).push([[842],{5842:function(e,l,a){a.r(l),a.d(l,{default:function(){return I}});var t=a(3396),s=a(7139),r=a(9242);const o={class:"container"},d=(0,t.uE)('<div class="row text-center my-3"><ul class="d-flex justify-content-around gap-3 fs-4 my-3"><li class="border p-3 bg-primary text-white border-r-20">Step1<br>購物清單</li><li class="border p-3 bg-primary border-r-20 text-white">Step2<br>填寫資料</li><li class="border p-3 border-r-20 text-secondary">Step3<br>結帳流程</li></ul></div>',1),c={class:"row d-flex justify-content-between"},i={class:"col-lg-5 col-md-12 p-0 my-3"},n={class:"table shadow order-card"},m=(0,t._)("thead",{class:"bg-primary text-white text-center"},[(0,t._)("tr",null,[(0,t._)("td",{colspan:"4"},[(0,t._)("h3",null,"訂單資訊")])])],-1),u=(0,t._)("tr",null,[(0,t._)("th",null,"品名"),(0,t._)("th",null,"單價"),(0,t._)("th",null,"數量"),(0,t._)("th",null,"小計")],-1),p={class:"bg-primary text-white text-center"},f={class:"fs-4"},b={colspan:"4"},_={class:"col-lg-6 col-md-12 border p-3 my-3 bg-primary text-white fs-5 shadow"},h=(0,t._)("div",{class:"text-center"},[(0,t._)("h3",{class:"fw-bold"},"客戶資料")],-1),g=(0,t._)("hr",null,null,-1),w={class:"mb-3"},v=(0,t._)("label",{for:"email",class:"form-label"},"Email",-1),y={class:"mb-3"},x=(0,t._)("label",{for:"name",class:"form-label"},"姓名",-1),k={class:"mb-3"},V=(0,t._)("label",{for:"tel",class:"form-label"},"電話",-1),W={class:"mb-3"},C=(0,t._)("label",{for:"address",class:"form-label"},"地址",-1),q={class:"mb-3"},U=(0,t._)("label",{for:"message",class:"form-label"},"留言",-1),$={class:"d-flex justify-content-between my-3"},z=(0,t._)("button",{class:"btn btn-lg btn-outline-secondary"},[(0,t._)("i",{class:"bi bi-caret-left-fill"}),(0,t.Uk)("上一步")],-1),S=(0,t._)("button",{class:"btn btn-lg btn-outline-danger"},[(0,t.Uk)("送出訂單"),(0,t._)("i",{class:"bi bi-caret-right-fill"})],-1);function E(e,l,a,E,j,D){const F=(0,t.up)("Field"),I=(0,t.up)("ErrorMessage"),M=(0,t.up)("router-link"),N=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",o,[d,(0,t._)("div",c,[(0,t._)("div",i,[(0,t._)("table",n,[m,(0,t._)("tbody",null,[u,j.cart.carts?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(j.cart.carts,(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e.id},[(0,t._)("td",null,(0,s.zw)(e.product.title),1),(0,t._)("td",null,(0,s.zw)(e.product.price),1),(0,t._)("td",null,(0,s.zw)(e.qty)+" / "+(0,s.zw)(e.product.unit),1),(0,t._)("td",null,"NT$ "+(0,s.zw)(e.product.price*e.qty),1)])))),128)):(0,t.kq)("",!0)]),(0,t._)("tfoot",p,[(0,t._)("tr",f,[(0,t._)("td",b,"總計 NT$ "+(0,s.zw)(j.cart.final_total),1)])])])]),(0,t._)("div",_,[h,g,(0,t.Wm)(N,{onSubmit:D.createOrder},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",w,[v,(0,t.Wm)(F,{id:"email",name:"email",type:"email",class:(0,s.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:j.form.user.email,"onUpdate:modelValue":l[0]||(l[0]=e=>j.form.user.email=e)},null,8,["class","modelValue"])]),(0,t._)("div",y,[x,(0,t.Wm)(F,{id:"name",name:"姓名",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:j.form.user.name,"onUpdate:modelValue":l[1]||(l[1]=e=>j.form.user.name=e)},null,8,["class","modelValue"]),(0,t.Wm)(I,{name:"姓名",class:"invalid-feedback"})]),(0,t._)("div",k,[V,(0,t.Wm)(F,{id:"tel",name:"電話",type:"tel",class:(0,s.C_)(["form-control",{"is-invalid":e["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:j.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=e=>j.form.user.tel=e)},null,8,["class","modelValue"]),(0,t.Wm)(I,{name:"電話",class:"invalid-feedback"})]),(0,t._)("div",W,[C,(0,t.Wm)(F,{id:"address",name:"地址",type:"text",class:(0,s.C_)(["form-control",{"is-invalid":e["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:j.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=e=>j.form.user.address=e)},null,8,["class","modelValue"]),(0,t.Wm)(I,{name:"地址",class:"invalid-feedback"})]),(0,t._)("div",q,[U,(0,t.wy)((0,t._)("textarea",{name:"",id:"message",class:"form-control",cols:"20",rows:"3","onUpdate:modelValue":l[4]||(l[4]=e=>j.form.message=e)},null,512),[[r.nr,j.form.message]])]),(0,t._)("div",$,[(0,t.Wm)(M,{to:"/cart"},{default:(0,t.w5)((()=>[z])),_:1}),S])])),_:1},8,["onSubmit"])])])])}a(7658);var j={data(){return{products:[],product:{},status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{},messages:"",coupon_code:""}},methods:{getCart(){const e="https://vue3-course-api.hexschool.io/api/coffee-api/cart";this.isLoading=!0,console.log(e),this.$http.get(e).then((e=>{console.log(e.data.data),this.cart=e.data.data,this.messages=e.messages}))},createOrder(){const e="https://vue3-course-api.hexschool.io/api/coffee-api/order",l=this.form;this.$http.post(e,{data:l}).then((e=>{console.log(e),this.$httpMessageState(e,"送出訂單");const l=e.data.orderId;this.$router.push(`./checkout/${l}`)}))}},created(){this.getCart()}},D=a(89);const F=(0,D.Z)(j,[["render",E]]);var I=F}}]);
//# sourceMappingURL=842.eb628e98.js.map